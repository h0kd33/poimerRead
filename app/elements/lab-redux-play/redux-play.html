<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../../bower_components/polymer/polymer.html">


<!-- Redux -->
<script src="../../../node_modules/redux/dist/redux.min.js"></script>
<link rel="import" href="../../../bower_components/polymer-redux/polymer-redux.html">
<link rel="import" href="../../../bower_components/iron-meta/iron-meta.html">

<link rel="import" href="redux-play-sub.html">

<dom-module id="redux-play">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <div>Hello from <span>{{name}}</span></div>
    <redux-play-sub on-click="_handleClick" action-type="agent">Agent</redux-play-sub>
    <redux-play-sub on-click="_handleClick" action-type="name">Name</redux-play-sub>
    <iron-meta id="meta"></iron-meta>
  </template>
  <script>

    // not work
    var ReduxBehavior = PolymerRedux(store);
  (function() {
    'use strict';

    Polymer({
      is: 'redux-play',

      behaviors: [ ReduxBehavior ],
      properties: {
        name: {
          type: String,
          statePath: 'name'
        }
      },
      ready: function() {
        var store = this.$.meta.byKey('store');
        var ReduxBehavior = PolymerRedux(store);
      }

    });
  })();
  </script>
</dom-module>
